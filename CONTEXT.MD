# üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma ‚Äî –°—Ç–∞—Ç—É—Å "–î–∏–ø–ª–æ–º" (–ö–æ–Ω–µ—Ü –°–µ—Å—Å–∏–∏ 3)

## ‚úÖ –¢–µ–∫—É—â–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è (Core)
- **Architecture:** Single Activity, Clean Architecture (Data/Domain/UI), Koin DI.
- **UI:** SearchScreen (Cards), DetailsScreen (Episodes), PlayerScreen (Media3).
- **L10n:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN, —Ç–µ–º–Ω–∞—è/—Å–≤–µ—Ç–ª–∞—è —Ç–µ–º—ã (M3).
- **Playback:** –†–∞–±–æ—Ç–∞—é—â–∏–π —Å—Ç—Ä–∏–º–∏–Ω–≥ —á–µ—Ä–µ–∑ Media3 Service –≤ —Ñ–æ–Ω–µ.

## üìã –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¥–∏–ø–ª–æ–º–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º
- [x] –†–∞–±–æ—Ç–∞ —Å —É–¥–∞–ª–µ–Ω–Ω—ã–º —Å–µ—Ä–≤–µ—Ä–æ–º (iTunes API).
- [x] –ö–∞—Ä—Ç–æ—á–∫–∏ –æ–±—ä–µ–∫—Ç–æ–≤ (LazyColumn + Cards).
- [x] –ü–µ—Ä–µ—Ö–æ–¥ –∫ –¥–µ—Ç–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É.
- [x] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (RU/EN).
- [ ] –≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–í—ã–±–æ—Ä —è–∑—ã–∫–∞/—Ç–µ–º—ã) ‚Äî **–í –ü–õ–ê–ù–ï**.
- [ ] Offline —Ä–µ–∂–∏–º (Room caching) ‚Äî **–í –ü–õ–ê–ù–ï**.
- [ ] Unit Test ‚Äî **–í –ü–õ–ê–ù–ï**.
- [ ] CI Github Actions ‚Äî **–í –ü–õ–ê–ù–ï**.

## üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 4: "–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –û—Ñ—Ñ–ª–∞–π–Ω"
1. **SettingsScreen:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —ç–∫—Ä–∞–Ω–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–Ø–∑—ã–∫, –¢–µ–º–∞).
2. **Room Integration:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–ø–∏–∑–æ–¥–æ–≤ –¥–ª—è Offline-–¥–æ—Å—Ç—É–ø–∞.
3. **Unit Testing:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –º–∞–ø–ø–∏–Ω–≥–∞ –¥–∞–Ω–Ω—ã—Ö.
4. **CI Setup:** –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Github Actions –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∏–ª–¥–∞.




üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma ‚Äî –°—Ç–∞—Ç—É—Å ¬´–î–∏–ø–ª–æ–º–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç¬ª (–ö–æ–Ω–µ—Ü –°–µ—Å—Å–∏–∏ 3)
‚úÖ –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
Single Activity: –ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ Jetpack Compose. –ù–∞–≤–∏–≥–∞—Ü–∏—è —á–µ—Ä–µ–∑ NavHost.
–°–ø–∏—Å–æ–∫ –∏ –∫–∞—Ä—Ç–æ—á–∫–∏ (UI):
SearchScreen: –°–ø–∏—Å–æ–∫ –ø–æ–¥–∫–∞—Å—Ç–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏).
DetailsScreen: –°–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ (–∫–∞—Ä—Ç–æ—á–∫–∏ —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏).
–î–µ—Ç–∞–ª—å–Ω—ã–π –≤–∏–¥: PlayerScreen —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ–± —ç–ø–∏–∑–æ–¥–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º Media3.
–£–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å iTunes Search API —á–µ—Ä–µ–∑ Retrofit2 –∏ GSON.
–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN —á–µ—Ä–µ–∑ strings.xml –∏ locales_config.xml.
DI: –í–Ω–µ–¥—Ä–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π —á–µ—Ä–µ–∑ Koin (–º–æ–¥—É–ª–∏ appModule –∏ playerModule).
–†–∞–±–æ—Ç–∞ —Å–æ –∑–≤—É–∫–æ–º: –§–æ–Ω–æ–≤–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —á–µ—Ä–µ–∑ MediaSessionService (Media3).
üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (Session 3)
UI: Compose, Material 3, Coil (–∫–∞—Ä—Ç–∏–Ω–∫–∏).
DI: Koin (Android, Compose, Navigation).
Network: Retrofit, OkHttp (Logging).
Media: Media3 (ExoPlayer + Session).
Compatibility: API Desugaring (–ø–æ–¥–¥–µ—Ä–∂–∫–∞ java.time –Ω–∞ API 24+).
üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–ê–∫—Ç—É–∞–ª—å–Ω–∞—è)
text
ru.mactiva.castumritma
‚îú‚îÄ‚îÄ data
‚îÇ   ‚îú‚îÄ‚îÄ network (DTO, API Service)
‚îÇ   ‚îú‚îÄ‚îÄ repository (Impl)
‚îÇ   ‚îú‚îÄ‚îÄ mappers (–¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö)
‚îÇ   ‚îî‚îÄ‚îÄ playback (PlaybackService - Media3)
‚îú‚îÄ‚îÄ domain (Models: Podcast, Episode)
‚îú‚îÄ‚îÄ di (AppModule, PlayerModule)
‚îú‚îÄ‚îÄ ui
‚îÇ   ‚îú‚îÄ‚îÄ navigation (Screen, AppNavigation)
‚îÇ   ‚îú‚îÄ‚îÄ screens (search, details, player)
‚îÇ   ‚îú‚îÄ‚îÄ viewmodels (Search, Details, Player - Single)
‚îÇ   ‚îî‚îÄ‚îÄ theme (Material 3)
‚îî‚îÄ‚îÄ utils (Constants)
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏—Ö –¥–∏–ø–ª–æ–º–Ω—ã—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π (–°–µ—Å—Å–∏—è 4)
–≠–∫—Ä–∞–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ (SettingsScreen):
–ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –¢–µ–º–Ω–æ–π/–°–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (—á–µ—Ä–µ–∑ DataStore –∏–ª–∏ SharedPreferences).
–í—ã–±–æ—Ä —è–∑—ã–∫–∞ (RU/EN) –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
Offline —Ä–µ–∂–∏–º (Room):
–°–æ–∑–¥–∞–Ω–∏–µ Entity –¥–ª—è –≠–ø–∏–∑–æ–¥–æ–≤.
–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞ —ç–ø–∏–∑–æ–¥–æ–≤ –≤ –ë–î.
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
–ù–∞–ø–∏—Å–∞–Ω–∏–µ Unit-—Ç–µ—Å—Ç–∞ –¥–ª—è Mappers.kt (–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞—Ç—ã –∏ –≤—Ä–µ–º–µ–Ω–∏).
CI/CD:
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ .github/workflows/android.yml –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ push.



# üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma ‚Äî –¢–æ—á–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ö–æ–Ω–µ—Ü –°–µ—Å—Å–∏–∏ 3)

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **DI (Koin):** –ü–æ–ª–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ `AppModule` –∏ `PlayerModule`. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è `viewModelOf` –∏ `singleOf` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. `PlayerViewModel` —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Å–∏–Ω–≥–ª—Ç–æ–Ω, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ.
- **Media3 (Playback):** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `PlaybackService` (MediaSessionService). –ù–∞—Å—Ç—Ä–æ–µ–Ω `ExoPlayer` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Audio Focus. –í –º–∞–Ω–∏—Ñ–µ—Å—Ç–µ —Ä–∞–∑—Ä–µ—à–µ–Ω —Ç—Ä–∞—Ñ–∏–∫ `cleartext` (HTTP) –∏ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã Foreground permissions.
- **Navigation:** –ù–∞—Å—Ç—Ä–æ–µ–Ω `NavHost` —Å –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ `Search`, `Details` –∏ `Player`. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–∞—Ç—Ç–µ—Ä–Ω "Shared State" —á–µ—Ä–µ–∑ `PlayerViewModel` –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —ç–ø–∏–∑–æ–¥–∞ –±–µ–∑ —Å–ª–æ–∂–Ω–æ–π —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏.
- **UI:**
    - `DetailsScreen` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∫–ª–∏–∫ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏—é.
    - `PlayerScreen` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –æ–±–ª–æ–∂–∫—É, –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º Play/Pause.
    - –î–æ–±–∞–≤–ª–µ–Ω—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –∏–∫–æ–Ω–∫–∏ Material (Pause/PlayArrow).

## üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã (Session 3)
- `di/AppModule.kt` ‚Äî –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏ –í—å—é–ú–æ–¥–µ–ª–∏.
- `data/playback/PlaybackService.kt` ‚Äî –°–µ—Ä–≤–∏—Å —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–≤—É–∫–∞.
- `ui/navigation/AppNavigation.kt` ‚Äî –õ–æ–≥–∏–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –∏ —Å–≤—è–∑–∏ VM.
- `ui/viewmodels/PlayerViewModel.kt` ‚Äî –¶–µ–Ω—Ç—Ä —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è ExoPlayer.

## üõ† –ö–æ–¥-—Å—Ç–µ–π—Ç (PlayerViewModel.kt)
```kotlin
class PlayerViewModel(private val player: ExoPlayer) : ViewModel() {
    private val _isPlaying = MutableStateFlow(false)
    val isPlaying = _isPlaying.asStateFlow()

    private val _currentEpisode = MutableStateFlow<Episode?>(null)
    val currentEpisode = _currentEpisode.asStateFlow()

    init {
        player.addListener(object : Player.Listener {
            override fun onIsPlayingChanged(isPlaying: Boolean) {
                _isPlaying.value = isPlaying
            }
        })
    }

    fun loadAndPlay(episode: Episode) {
        if (player.currentMediaItem?.mediaId == episode.audioUrl) return
        _currentEpisode.value = episode
        val mediaItem = MediaItem.Builder()
            .setMediaId(episode.audioUrl)
            .setUri(Uri.parse(episode.audioUrl))
            .setMediaMetadata(MediaMetadata.Builder().setTitle(episode.title).build())
            .build()
        player.setMediaItem(mediaItem)
        player.prepare()
        player.play()
    }

    fun togglePlayPause() {
        if (player.isPlaying) player.pause() else player.play()
    }
}



# üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma ‚Äî –¢–æ—á–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è (–ö–æ–Ω–µ—Ü –°–µ—Å—Å–∏–∏ 2)

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
- **UI:** DetailsScreen –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤. –ó–∞–≥–ª—É—à–∫–∏ –æ–±–ª–æ–∂–µ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Compose Box ("CR"), –∏—Å–∫–ª—é—á–∞—è –∫—Ä–∞—à–∏ XML-–ø–∞—Ä—Å–µ—Ä–∞.
- **Data:** –ù–∞—Å—Ç—Ä–æ–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –≤ `toEpisodeDomain()` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–∞—Ç (Locale.getDefault) –∏ –∫—Ä–∞—Å–∏–≤—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏.
- **L10n:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ RU/EN —á–µ—Ä–µ–∑ `strings.xml` –∏ `locales_config.xml`.
- **DI:** –í `build.gradle` –¥–æ–±–∞–≤–ª–µ–Ω—ã –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ **Koin** (android, compose, navigation).
- **Compatibility:** –í–∫–ª—é—á–µ–Ω **API Desugaring** –¥–ª—è —Ä–∞–±–æ—Ç—ã `java.time` –Ω–∞ Android 7.0+ (minSdk 24).

## üìÅ –§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Data Layer)
- `data/network/dto/PodcastDto.kt` ‚Äî –º–æ–¥–µ–ª–∏ iTunes.
- `data/mappers/Mappers.kt` ‚Äî –ª–æ–≥–∏–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ Domain.
- `data/repository/PodcastRepositoryImpl.kt` ‚Äî –ª–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 3: "–ó–≤—É–∫ –∏ DI"
1. **Koin Setup:** –°–æ–∑–¥–∞–Ω–∏–µ `AppModule.kt` –∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Koin –≤ –∫–ª–∞—Å—Å–µ `Application`.
2. **Media3 Service:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è `PlaybackService` –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
3. **MiniPlayer:** –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞–≤–∞—é—â–µ–π –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤ UI.
4. **Playback Logic:** –ó–∞–ø—É—Å–∫ —ç–ø–∏–∑–æ–¥–∞ –ø–æ –∫–ª–∏–∫—É –∏–∑ `DetailsScreen`.









üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –°–µ—Å—Å–∏–∏ 2
üìù –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –º—É–ª—å—Ç–∏–º–µ–¥–∏–π–Ω–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞. –°–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ, –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ –º–∞–ø–ø–µ—Ä—ã —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ (RU/EN), –∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ —á–µ—Ç–∫–∏–µ —Å–ª–æ–∏. –†–µ—à–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å —Ä–µ—Å—É—Ä—Å–∞–º–∏ —á–µ—Ä–µ–∑ Compose-–∑–∞–≥–ª—É—à–∫–∏.
‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ
UI & UX:
DetailsScreen —Å LazyColumn –∏ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π.
EpisodeItem —Å –±—Ä–µ–Ω–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–≥–ª—É—à–∫–æ–π "CR" (—Ñ–∏–∫—Å –æ—à–∏–±–∫–∏ viewportWidth).
–ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Dark/Light —Ç–µ–º —á–µ—Ä–µ–∑ Material 3.
Data & Network:
Retrofit –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ iTunes API.
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞–ø–ø–∏–Ω–≥ –≤ toEpisodeDomain() —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º java.time –∏ Locale.getDefault().
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ API Desugaring –¥–ª—è —Ä–∞–±–æ—Ç—ã –¥–∞—Ç –Ω–∞ —Å—Ç–∞—Ä—ã—Ö Android (–æ—Ç API 24).
–õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è (L10n):
–ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã strings.xml –¥–ª—è RU –∏ EN.
–ù–∞—Å—Ç—Ä–æ–µ–Ω locales_config.xml –¥–ª—è –≤—ã–±–æ—Ä–∞ —è–∑—ã–∫–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Android 13+).
Build System:
–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ debug (—Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º) –∏ release (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π R8).
–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ñ–∏–ª—å—Ç—Ä—ã —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ APK.
üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (Target)
data/network/dto/: –°–µ—Ç–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ (PodcastDto).
data/mappers/: –õ–æ–≥–∏–∫–∞ —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–∏ (Mappers.kt).
domain/: –ß–∏—Å—Ç—ã–µ –º–æ–¥–µ–ª–∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (Episode.kt).
ui/screens/details/: –≠–∫—Ä–∞–Ω —ç–ø–∏–∑–æ–¥–æ–≤.
üõ† –ö–æ–¥ –¥–ª—è –°–µ—Å—Å–∏–∏ 3 (Mappers.kt)
kotlin
fun PodcastDto.toEpisodeDomain(): Episode {
return Episode(
id = this.trackId ?: 0L,
title = this.trackName ?: "",
description = this.description ?: "",
audioUrl = this.previewUrl ?: "",
date = formatDate(this.releaseDate),
duration = formatDuration(this.trackTimeMillis ?: 0L),
imageUrl = this.artworkUrl600 ?: this.artworkUrl100
)
}

private fun formatDate(isoDate: String?): String {
if (isoDate.isNullOrEmpty()) return ""
return try {
val parsedDate = ZonedDateTime.parse(isoDate)
val formatter = DateTimeFormatter.ofPattern("d MMM yyyy", Locale.getDefault())
parsedDate.format(formatter)
} catch (e: Exception) { isoDate.take(10) }
}
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 3: "–ò–Ω—ä–µ–∫—Ü–∏—è –∏ –ó–≤—É–∫"
Koin DI: –ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π. –ò–∑–±–∞–≤–ª—è–µ–º—Å—è –æ—Ç —Ä—É—á–Ω—ã—Ö Factory.
Media3 Service: –°–æ–∑–¥–∞–Ω–∏–µ PlaybackService –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤ —Ñ–æ–Ω–µ.
Player UI: –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ —ç–ø–∏–∑–æ–¥—É –∏ —Å–æ–∑–¥–∞–Ω–∏–µ MiniPlayer –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞.
State Management: –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–ª–µ–µ—Ä–∞ —Å UI —á–µ—Ä–µ–∑ MediaController.


















üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma (Android Podcast Hub) ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ—Å–ª–µ –°–µ—Å—Å–∏–∏ 2
üìù –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ –ø–æ–¥–∫–∞—Å—Ç–∞ –∏–∑ iTunes API, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –≤ DetailsScreen —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Jetpack Compose –∏ Coil. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –ø—Ä–∏–Ω—Ü–∏–ø–∞—Ö Clean Architecture (MVVM).
‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
Network Layer: –ù–∞—Å—Ç—Ä–æ–µ–Ω Retrofit —Å ITunesApiService. –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å—É—â–Ω–æ—Å—Ç–∏ podcast (–¥–ª—è –ø–æ–∏—Å–∫–∞) –∏ podcastEpisode (–¥–ª—è –¥–µ—Ç–∞–ª–µ–π).
Domain Layer:
Podcast: –ú–æ–¥–µ–ª—å –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–ª–ª–µ–∫—Ü–∏–∏.
Episode: –ú–æ–¥–µ–ª—å —ç–ø–∏–∑–æ–¥–∞ (ID, –∑–∞–≥–æ–ª–æ–≤–æ–∫, –æ–ø–∏—Å–∞–Ω–∏–µ, URL –∞—É–¥–∏–æ, –¥–∞—Ç–∞, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –æ–±–ª–æ–∂–∫–∞).
Data Layer:
PodcastDto: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –æ–±—ä–µ–∫—Ç –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ iTunes (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç wrapperType).
Mappers.kt: –õ–æ–≥–∏–∫–∞ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è DTO –≤ –¥–æ–º–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏ —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –≤—Ä–µ–º–µ–Ω–∏ (MM:SS).
UI Layer:
SearchScreen: –ü–æ–∏—Å–∫ –ø–æ–¥–∫–∞—Å—Ç–æ–≤.
DetailsScreen: –°–ø–∏—Å–æ–∫ —ç–ø–∏–∑–æ–¥–æ–≤ —Å LazyColumn –∏ Card.
UI-—Ñ–∏–∫—Å: –ó–∞–≥–ª—É—à–∫–∏ –æ–±–ª–æ–∂–µ–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —á–µ—Ä–µ–∑ Compose Box —Å —Ç–µ–∫—Å—Ç–æ–º "CR", —á—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫—Ä–∞—à–∏ –∏–∑-–∑–∞ –æ—à–∏–±–æ–∫ XML-–ø–∞—Ä—Å–µ—Ä–∞.
üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
UI: Jetpack Compose, Material 3, Coil (–∫–∞—Ä—Ç–∏–Ω–∫–∏).
Navigation: Compose Navigation (–ø–µ—Ä–µ–¥–∞—á–∞ collectionId).
Network: Retrofit 2 + Gson.
DI: Manual Dependency Injection (—á–µ—Ä–µ–∑ ViewModelProvider.Factory).
üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã –∫–æ–¥–∞
Episode Model & Mapper
kotlin
data class Episode(
val id: Long,
val title: String,
val description: String,
val audioUrl: String,
val date: String,
val duration: String?,
val imageUrl: String?
)

// –ú–∞–ø–ø–µ—Ä –≤ Mappers.kt
fun PodcastDto.toEpisode(): Episode {
return Episode(
id = this.trackId ?: 0L,
title = this.trackName ?: "–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è",
description = this.description ?: "–û–ø–∏—Å–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç",
audioUrl = this.previewUrl ?: "",
date = this.releaseDate ?: "",
duration = formatDuration(this.trackTimeMillis ?: 0L),
imageUrl = this.artworkUrl600 ?: this.artworkUrl100
)
}
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

UI: EpisodeItem (—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –∑–∞–≥–ª—É—à–∫–æ–π)
kotlin
@Composable
fun EpisodeItem(episode: Episode) {
Card(modifier = Modifier.fillMaxWidth().padding(8.dp)) {
Row(modifier = Modifier.padding(12.dp), verticalAlignment = Alignment.CenterVertically) {
Box(modifier = Modifier.size(60.dp).clip(RoundedCornerShape(12.dp)).background(MaterialTheme.colorScheme.primaryContainer), contentAlignment = Alignment.Center) {
Text("CR", style = MaterialTheme.typography.titleMedium, color = MaterialTheme.colorScheme.onPrimaryContainer)
AsyncImage(model = episode.imageUrl, contentDescription = null, modifier = Modifier.fillMaxSize(), contentScale = ContentScale.Crop)
}
Spacer(modifier = Modifier.width(16.dp))
Column(modifier = Modifier.weight(1f)) {
Text(text = episode.title, style = MaterialTheme.typography.titleMedium, maxLines = 2, overflow = TextOverflow.Ellipsis)
if (!episode.duration.isNullOrEmpty()) {
Text(text = "–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: ${episode.duration}", style = MaterialTheme.typography.bodySmall)
}
}
}
}
}
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–¥ —Å –æ—Å—Ç–æ—Ä–æ–∂–Ω–æ—Å—Ç—å—é.

üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 3: "Media3 & Playback"
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: –î–æ–±–∞–≤–∏—Ç—å androidx.media3:media3-exoplayer –∏ media3-session.
Service: –°–æ–∑–¥–∞—Ç—å PlaybackService –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
ViewModel: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å MediaController –≤ DetailsViewModel –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∞—É–¥–∏–æ –ø–æ –∫–ª–∏–∫—É.
MiniPlayer: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–ª–∞–≤–∞—é—â—É—é –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–µ—Ä–æ–º –≤ –Ω–∏–∂–Ω–µ–π —á–∞—Å—Ç–∏ —ç–∫—Ä–∞–Ω–∞.









‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ò—Ç–æ–≥–∏ –°–µ—Å—Å–∏–∏ 2)
Network Layer:
–ù–∞—Å—Ç—Ä–æ–µ–Ω RetrofitClient —Å –±–∞–∑–æ–≤—ã–º URL iTunes.
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–µ—Ç–æ–¥ getEpisodes –≤ ITunesApiService —Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ (entity=podcastEpisode).
Data & Domain:
–°–æ–∑–¥–∞–Ω–∞ –º–æ–¥–µ–ª—å Episode –∏ DTO PodcastDto —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã—Ö –ø–æ–ª–µ–π (trackId, previewUrl, trackTimeMillis).
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω –º–∞–ø–ø–µ—Ä toEpisode() —Å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (MM:SS).
–í PodcastRepository –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –æ—Ç–¥–µ–ª–µ–Ω–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –æ—Ç —Å–ø–∏—Å–∫–∞ —ç–ø–∏–∑–æ–¥–æ–≤.
UI & Navigation:
DetailsScreen: –≠–∫—Ä–∞–Ω –¥–µ—Ç–∞–ª–µ–π —Ç–µ–ø–µ—Ä—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç collectionId, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ DetailsViewModel –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∏—Ö –≤ LazyColumn.
Navigation: –ù–∞—Å—Ç—Ä–æ–µ–Ω NavHost —Å –ø–µ—Ä–µ–¥–∞—á–µ–π –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ–º DetailsViewModel —á–µ—Ä–µ–∑ DetailsViewModelFactory.
MainActivity: –ü–æ–ª–Ω–æ—Å—Ç—å—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏.
üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
UI: Jetpack Compose, Material 3.
Navigation: Compose Navigation.
Network: Retrofit + Gson.
Architecture: MVVM + Clean Architecture (Domain/Data/UI).
DI: –†—É—á–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Factory (–ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–æ –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ Koin/Hilt).
üìÅ –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–π–ª—ã
DetailsViewModel: –£–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º —Å–ø–∏—Å–∫–∞ —ç–ø–∏–∑–æ–¥–æ–≤.
PodcastRepository: –õ–æ–≥–∏–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö.
Mappers.kt: –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ DTO -> Domain.
üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 3: "–û–∂–∏–≤–ª–µ–Ω–∏–µ –∑–≤—É–∫–∞"
Media3 Setup: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π androidx.media3 (exoplayer, session).
Playback Service: –°–æ–∑–¥–∞–Ω–∏–µ MediaSessionService –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
Player Integration:
–†–µ–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª–∏–∫–∞ –ø–æ —ç–ø–∏–∑–æ–¥—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ audioUrl.
–°–æ–∑–¥–∞–Ω–∏–µ –º–∏–Ω–∏-–ø–ª–µ–µ—Ä–∞ (MiniPlayer) –≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞.
UX Improvement: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å–µ—Ç–∏ –∏ –ø—É—Å—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π (shimmer/–∑–∞–≥–ª—É—à–∫–∏).





# üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma (Android Podcast & Audiobook Hub)

## üìå –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
**–ù–∞–∑–≤–∞–Ω–∏–µ:** Castum Ritma
**–°—É—Ç—å:** –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∞—É–¥–∏–æ–∫–Ω–∏–≥.
**–ö–∏–ª–ª–µ—Ä-—Ñ–∏—á–∞:** ¬´Radio Mode¬ª (–º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏) –∏ —É–º–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## ‚úÖ –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (–°–µ—Å—Å–∏—è 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
- **UI:** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `SearchScreen` (Compose + Material 3) —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.
- **Network:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å iTunes API —á–µ—Ä–µ–∑ Retrofit.
- **Architecture:** –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ **Data** (Network DTO) –∏ **Domain** (Clean Kotlin Models).
- **Images:** –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–µ–∫ —á–µ—Ä–µ–∑ Coil.

## üõ† –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ (–î–ª—è –¥–∏–ø–ª–æ–º–∞)
1. **Multi-Source Ready:** –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —á–µ—Ä–µ–∑ `PodcastSource` (Enum) –∏ –º–∞–ø–ø–µ—Ä—ã –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å Spotify, RSS –∏ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è UI.
2. **KMP Vision:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–∏—Å—Ç—ã—Ö Kotlin-–º–æ–¥–µ–ª–µ–π –≤ Domain-—Å–ª–æ–µ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞–µ—Ç –ø—Ä–æ–µ–∫—Ç –∫ –ø–µ—Ä–µ—Ö–æ–¥—É –Ω–∞ **Kotlin Multiplatform (iOS)**.
3. **Smart Local Filter:** –ê–ª–≥–æ—Ä–∏—Ç–º –æ—Ç–¥–µ–ª–µ–Ω–∏—è –∞—É–¥–∏–æ–∫–Ω–∏–≥ –æ—Ç –º—É–∑—ã–∫–∏ –≤ –ø–∞–º—è—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞:
    - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (—Ñ–∞–π–ª—ã > 10 –º–∏–Ω—É—Ç).
    - –ê–Ω–∞–ª–∏–∑ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (ID3-—Ç–µ–≥–∏: Genre, Album Artist).
    - –°–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∞–ø–æ–∫ (`/Podcasts`, `/Audiobooks`).

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
- `ru.mactiva.castumritma.data`: –°–µ—Ç–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ (`PodcastDto`), API-—Å–µ—Ä–≤–∏—Å –∏ Retrofit-–∫–ª–∏–µ–Ω—Ç.
- `ru.mactiva.castumritma.domain`: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (`Podcast.kt`) ‚Äî —Å–µ—Ä–¥—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- `ru.mactiva.castumritma.ui`: –≠–∫—Ä–∞–Ω—ã (`SearchScreen`), ViewModel –∏ —Ç–µ–º–∞ Material 3.

## üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 2
1. **Navigation:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –ø–æ–∏—Å–∫–æ–º –∏ –¥–µ—Ç–∞–ª—è–º–∏.
2. **Details Screen:** –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —ç–ø–∏–∑–æ–¥–æ–≤ (Lookup –ø–æ `collectionId`).
3. **Media3 (ExoPlayer):** –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è.
4. **UX:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ **Filter Chips** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É iTunes –∏ –õ–æ–∫–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏.







# üéô –ü—Ä–æ–µ–∫—Ç: Castum Ritma (Android Podcast Client) ‚Äî –ö–æ–Ω—Ç–µ–∫—Å—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## üìå –û–±—â–∞—è –∫–æ–Ω—Ü–µ–ø—Ü–∏—è
**–ù–∞–∑–≤–∞–Ω–∏–µ:** Castum Ritma
**–°—É—Ç—å:** –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –ø–æ–¥–∫–∞—Å—Ç–æ–≤ –∏ –∞—É–¥–∏–æ–∫–Ω–∏–≥ —Å —Ñ–æ–∫—É—Å–æ–º –Ω–∞ –æ—Ñ–ª–∞–π–Ω-—Ä–µ–∂–∏–º –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
**–ö–∏–ª–ª–µ—Ä-—Ñ–∏—á–∞ (–∑–∞–¥–µ–ª):** ¬´Radio Mode¬ª ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –≤ –ø–æ—Ç–æ–∫ –ø–æ–¥–∫–∞—Å—Ç–∞.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫ (MVP)
- **–Ø–∑—ã–∫:** Kotlin + Coroutines + Flow.
- **UI:** Jetpack Compose + Material 3 (Dynamic Colors).
- **Network:** Retrofit 2 + Gson.
- **Images:** Coil-Compose.
- **Architecture:** MVVM + Clean Architecture (—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ Data –∏ Domain —Å–ª–æ–∏).

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –Ω–∞ –¢–µ–∫—É—â–∏–π –ú–æ–º–µ–Ω—Ç (–°–µ—Å—Å–∏—è 1)
1. **–ë–∞–∑–æ–≤–∞—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** `MainActivity` –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ –∑–∞–ø—É—Å–∫ `SearchScreen` –≤–Ω—É—Ç—Ä–∏ `PodCastScoutTheme`.
2. **–≠–∫—Ä–∞–Ω –ü–æ–∏—Å–∫–∞:**
    - –ü–æ–ª–µ –≤–≤–æ–¥–∞ `OutlinedTextField` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.
    - –°–ø–∏—Å–æ–∫ `LazyColumn` —Å –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏ `PodcastItem`.
    - –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∏—Å–∫–∞ –ø—Ä–∏ –≤–≤–æ–¥–µ –±–æ–ª–µ–µ 2-—Ö —Å–∏–º–≤–æ–ª–æ–≤.
3. **–°–ª–æ–π –î–∞–Ω–Ω—ã—Ö (Data Layer):**
    - `ITunesApiService` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Apple Search API.
    - `PodcastDto` ‚Äî –º–æ–¥–µ–ª—å –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ JSON.
    - `NetworkModule` ‚Äî —Å–∏–Ω–≥–ª—Ç–æ–Ω –¥–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Retrofit.
4. **–°–ª–æ–π –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ (Domain Layer):**
    - `Podcast` ‚Äî —á–∏—Å—Ç—ã–π Kotlin-–∫–ª–∞—Å—Å (ID, Title, Author, ImageUrl, Source).
    - `PodcastSource` (Enum) ‚Äî –∑–∞–¥–µ–ª –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (ITUNES, SPOTIFY, LOCAL, RSS).
    - **Mapper:** –§—É–Ω–∫—Ü–∏—è-—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ `toDomain()` –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ —Å–µ—Ç–µ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –≤ –º–æ–¥–µ–ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## üìê –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
- **–ò–Ω–≤–µ—Ä—Å–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:** UI-—Å–ª–æ–π (Compose) –∏ ViewModel —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ —Å `Podcast` (Domain), –Ω–µ –∑–Ω–∞—è –æ –¥–µ—Ç–∞–ª—è—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ API. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –±–µ–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏ —ç–∫—Ä–∞–Ω–æ–≤.
- **UX-–≤—ã–±–æ—Ä:** –í –±—É–¥—É—â–µ–º –≤—ã–±–æ—Ä –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ **Filter Chips** (–ß–∏–ø—Å—ã) –ø–æ–¥ —Å—Ç—Ä–æ–∫–æ–π –ø–æ–∏—Å–∫–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–π —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–í—Å–µ / iTunes / –õ–æ–∫–∞–ª—å–Ω—ã–µ).

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤
- `data/PodcastDto.kt` ‚Äî –°–µ—Ç–µ–≤—ã–µ –º–æ–¥–µ–ª–∏ –∏ –º–∞–ø–ø–µ—Ä.
- `domain/Podcast.kt` ‚Äî –ë–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –∏ –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤.
- `ui/screens/SearchScreen.kt` ‚Äî –í–µ—Ä—Å—Ç–∫–∞ —ç–∫—Ä–∞–Ω–∞ –ø–æ–∏—Å–∫–∞.
- `ui/screens/SearchViewModel.kt` ‚Äî –õ–æ–≥–∏–∫–∞ –ø–æ–∏—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º (StateFlow).

## üöÄ –ü–ª–∞–Ω –Ω–∞ –°–µ—Å—Å–∏—é 2
1. **Navigation:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ `androidx.navigation:navigation-compose`.
2. **Details Screen:** –≠–∫—Ä–∞–Ω —ç–ø–∏–∑–æ–¥–æ–≤ (–∑–∞–ø—Ä–æ—Å `lookup` –≤ iTunes –ø–æ `collectionId`).
3. **Player Setup:** –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Media3 (ExoPlayer) –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞.





# üéØ –ü—Ä–æ–µ–∫—Ç: PodCast Scout (–î–∏–ø–ª–æ–º)

## üõ† –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å (Session 1)
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–µ–∫—Ç: Compose + Material 3 + Kotlin DSL.
- [x] –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–µ—Ç—å: Retrofit + iTunes API.
- [x] –°–æ–∑–¥–∞–Ω —ç–∫—Ä–∞–Ω –ø–æ–∏—Å–∫–∞: `SearchScreen` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–∏—Ä–∏–ª–ª–∏—Ü—ã.
- [x] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∑–∞–≥—Ä—É–∑–∫–∞ –æ–±–ª–æ–∂–µ–∫: Coil Image Loading.
- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: MVVM (ViewModel + StateFlow).

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö (Data Layer)
- `PodcastDto`: —Å–æ–¥–µ—Ä–∂–∏—Ç ID, –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –ª–æ–≥–∏–∫—É –≤—ã–±–æ—Ä–∞ –ª—É—á—à–µ–π –æ–±–ª–æ–∂–∫–∏ (`bestArtworkUrl`).
- `ITunesApiService`: —ç–Ω–¥–ø–æ–∏–Ω—Ç `/search` —Å —Ñ–∏–ª—å—Ç—Ä–æ–º –ø–æ –ø–æ–¥–∫–∞—Å—Ç–∞–º.

## üöÄ –ü–ª–∞–Ω –Ω–∞ Session 2
1. **Navigation:** –î–æ–±–∞–≤–∏—Ç—å `NavHost` –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–æ–≤.
2. **Details Screen:** –≠–∫—Ä–∞–Ω —Å–æ —Å–ø–∏—Å–∫–æ–º —ç–ø–∏–∑–æ–¥–æ–≤ (–∑–∞–ø—Ä–æ—Å –ø–æ `collectionId`).
3. **Media3:** –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞ –ø–ª–µ–µ—Ä–∞.

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏
- API Base: `https://itunes.apple.com`
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏: Retrofit, Coil, Room, Media3.




üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞: PodCast Scout (MVP)
–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
–°—Ç–µ–∫: Kotlin, Jetpack Compose, Material 3, Retrofit + Gson, Coil (–¥–ª—è –∫–∞—Ä—Ç–∏–Ω–æ–∫).
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –û—Å–Ω–æ–≤–Ω–∞—è Activity, SearchScreen —Å –ø–æ–ª–µ–º –≤–≤–æ–¥–∞ –∏ —Å–ø–∏—Å–∫–æ–º LazyColumn. –ù–∞—Å—Ç—Ä–æ–µ–Ω SearchViewModel —Å –ª–æ–≥–∏–∫–æ–π —Å–µ—Ç–µ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –∫ iTunes API.
API: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è ITunesApiService —Å –±–∞–∑–æ–≤—ã–º URL https://itunes.apple.com.
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:
PodcastResponse: –°–æ–¥–µ—Ä–∂–∏—Ç resultCount –∏ results (List).
PodcastDto: –ü–æ–ª—è collectionId, artistName, collectionName, artworkUrl100, artworkUrl600. –ï—Å—Ç—å –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω–æ–µ —Å–≤–æ–π—Å—Ç–≤–æ bestArtworkUrl.
–§–∞–π–ª–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:
data/: PodcastDto.kt, ITunesApiService.kt, NetworkModule.kt.
ui/screens/: SearchScreen.kt, SearchViewModel.kt.
ui/theme/: –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã Material 3 (Theme.kt, Color.kt, Type.kt).
–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≤ build.gradle.kts:
Retrofit + Gson Converter.
Coil-Compose.
Lifecycle ViewModel Compose.
–ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –Ω–∞ —Ç–µ–∫—É—â–µ–º —à–∞–≥–µ:
–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –≤–≤–æ–¥–æ–º –∫–∏—Ä–∏–ª–ª–∏—Ü—ã –≤ —ç–º—É–ª—è—Ç–æ—Ä–µ, –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞—Ä—Ç–æ—á–∫–∏ PodcastItem —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –æ–±–ª–æ–∂–µ–∫ —á–µ—Ä–µ–∑ Coil. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ –ø–æ–∏—Å–∫–æ–≤–æ–º—É –∑–∞–ø—Ä–æ—Å—É.
–ü–ª–∞–Ω –Ω–∞ —Å–ª–µ–¥—É—é—â—É—é —Å–µ—Å—Å–∏—é:
–î–æ–±–∞–≤–∏—Ç—å –Ω–∞–≤–∏–≥–∞—Ü–∏—é (Jetpack Navigation) –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏.
–°–æ–∑–¥–∞—Ç—å Screen Detail (—ç–∫—Ä–∞–Ω —ç–ø–∏–∑–æ–¥–æ–≤ –ø–æ–¥–∫–∞—Å—Ç–∞).
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∑–∞–ø—Ä–æ—Å —Å–ø–∏—Å–∫–∞ —ç–ø–∏–∑–æ–¥–æ–≤ –ø–æ collectionId.